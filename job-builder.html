<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Yireh – Job Builder & Applications</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    font-family:Segoe UI,Arial,sans-serif;
    background:#f4f6fb;
}
header{
    background:#0d47a1;
    color:#fff;
    padding:15px 20px;
    font-size:22px;
    font-weight:700;
}
.container{
    max-width:1200px;
    margin:auto;
    padding:20px;
}
.card{
    background:#fff;
    padding:20px;
    border-radius:12px;
    box-shadow:0 6px 18px rgba(0,0,0,.1);
    margin-bottom:20px;
}
h3{color:#0d47a1}
input,textarea{
    width:100%;
    padding:10px;
    margin:6px 0;
    border:1px solid #ccc;
    border-radius:6px;
}
button{
    background:#0d47a1;
    color:#fff;
    border:none;
    padding:10px 16px;
    border-radius:6px;
    cursor:pointer;
}
.job{
    border:1px solid #ddd;
    padding:15px;
    border-radius:8px;
    margin-top:15px;
}
.apply-box{
    background:#f1f4ff;
    padding:12px;
    margin-top:10px;
    border-radius:8px;
}
.admin{
    text-align:center;
}
</style>
</head>

<body>

<header>Yireh – Job Builder & CV Applications</header>

<div class="container">

<!-- ================= JOB CREATOR ================= -->
<div class="card">
<h3>Post a Job</h3>
<input id="jobTitle" placeholder="Job Title">
<input id="company" placeholder="Company Name">
<textarea id="jobDesc" placeholder="Job Description"></textarea>
<button onclick="addJob()">Publish Job</button>
</div>

<!-- ================= JOB LIST ================= -->
<div class="card">
<h3>Available Jobs</h3>
<div id="jobs"></div>
</div>

<!-- ================= ADMIN ================= -->
<div class="card admin">
<h3>Admin – Download Applications</h3>
<button onclick="downloadExcel()">Download Applications (Excel)</button>
</div>

</div>

<script>
let jobs = [];
let applications = [];

function addJob(){
    const job = {
        title: jobTitle.value,
        company: company.value,
        desc: jobDesc.value
    };
    jobs.push(job);
    renderJobs();
    jobTitle.value = company.value = jobDesc.value = "";
}

function renderJobs(){
    jobsDiv = document.getElementById("jobs");
    jobsDiv.innerHTML = "";
    jobs.forEach((job,i)=>{
        jobsDiv.innerHTML += `
        <div class="job">
            <b>${job.title}</b><br>
            <small>${job.company}</small>
            <p>${job.desc}</p>

            <div class="apply-box">
                <input placeholder="Your Name" id="name${i}">
                <input placeholder="Email" id="email${i}">
                <input placeholder="Phone" id="phone${i}">
                <textarea placeholder="Paste CV or Profile Summary" id="cv${i}"></textarea>
                <button onclick="apply(${i})">Apply</button>
            </div>
        </div>`;
    });
}

function apply(i){
    const app = {
        job: jobs[i].title,
        company: jobs[i].company,
        name: document.getElementById(`name${i}`).value,
        email: document.getElementById(`email${i}`).value,
        phone: document.getElementById(`phone${i}`).value,
        cv: document.getElementById(`cv${i}`).value
    };
    applications.push(app);
    alert("Application submitted successfully!");
}

function downloadExcel(){
    let csv = "Job,Company,Name,Email,Phone,CV\n";
    applications.forEach(a=>{
        csv += `"${a.job}","${a.company}","${a.name}","${a.email}","${a.phone}","${a.cv}"\n`;
    });

    const blob = new Blob([csv],{type:"text/csv"});
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = "Yireh_Job_Applications.csv";
    link.click();
}
</script>

</body>
</html>
