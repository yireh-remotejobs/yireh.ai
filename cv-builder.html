<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CV Builder – Yireh</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="favicon.ico">
<link rel="stylesheet" href="styles.css">
</head>

<body>

<header class="header">
  <div class="brand">
    <img src="logo.png" height="50">
    <div>
      <h2>Yireh</h2>
      <small>CV & Cover Letter Builder</small>
    </div>
  </div>

  <nav class="nav">
    <a href="index.html">Home</a>
    <a href="jobs.html">Jobs</a>
    <a href="services.html">Services</a>
    <a href="cv-builder.html" class="active">CV Builder</a>
    <a href="contact.html">Contact</a>
  </nav>
</header>

<section class="container">

<div class="card">
<h2>Build Your CV</h2>
<p class="small">Free basic CV • Premium templates require unlock</p>

<input id="name" class="input" placeholder="Full Name">
<input id="email" class="input" placeholder="Email">
<input id="role" class="input" placeholder="Target Job Role">

<textarea id="summary" class="input" rows="4"
placeholder="Professional Summary"></textarea>

<label class="small">Upload Photo</label>
<input type="file" id="photo" accept="image/*">

<hr>

<h3>Select Template</h3>

<label>
<input type="radio" name="tpl" value="basic" checked>
 Basic (Free)
</label><br>

<label>
<input type="radio" name="tpl" value="premium">
 Premium (Paid)
</label>

<div id="payBox" style="display:none;margin-top:10px">
<p class="small">Unlock premium templates:</p>

<a class="btn" href="https://paypal.me/yirehremotejobs/1" target="_blank">
Pay $1 (PayPal)
</a>

<a class="btn ghost"
href="upi://pay?pa=yireh@upi&pn=Yireh">
Google Pay
</a>

<p class="small">
After payment, refresh page → Premium unlocks automatically (manual for now)
</p>
</div>

<br>
<button class="btn" onclick="generateCV()">Generate CV</button>
</div>

<div class="card">
<h3>CV Preview</h3>
<div id="cvPreview" class="card"></div>
</div>

</section>

<footer class="footer">
© 2025 Yireh.site • CV Builder v1
</footer>

<script>
const photoInput = document.getElementById("photo");
let photoData = "";

photoInput.addEventListener("change", () => {
  const file = photoInput.files[0];
  if (!file) return;
  const r = new FileReader();
  r.onload = e => photoData = e.target.result;
  r.readAsDataURL(file);
});

document.querySelectorAll("input[name=tpl]").forEach(r=>{
  r.onchange = () => {
    document.getElementById("payBox").style.display =
      r.value === "premium" ? "block" : "none";
  }
});

function generateCV(){
  const tpl = document.querySelector("input[name=tpl]:checked").value;
  if (tpl === "premium" && !confirm("Have you completed payment?")) return;

  const cv = `
  ${photoData ? `<img src="${photoData}" style="width:100px;border-radius:8px">` : ""}
  <h2>${name.value}</h2>
  <b>${role.value}</b>
  <p>${summary.value}</p>
  <p class="small">Contact: ${email.value}</p>
  `;

  document.getElementById("cvPreview").innerHTML = cv;
}
</script>

</body>
</html>
